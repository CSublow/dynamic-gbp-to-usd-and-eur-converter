<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dynamic Currency Conversion</title>
</head>
<body>
    <div>
        <p>Amount to convert: <span id="ProductPrice">&pound;12.99</span></p>
        <p>US buyers: Approximately <span id="USFX"></span></p>
        <p>European buyers: Approximately <span id="EUFX"></span></p>
    </div>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/money.js"></script>
    <script type="text/javascript">
    // Load exchange rates data via AJAX:
    $.getJSON(
    	// NB: using Open Exchange Rates here, but you can use any source!
        'https://openexchangerates.org/api/latest.json?app_id=49d329385faf437b9f7f75fbd5c5083d',
        function(data) {
            // Check money.js has finished loading:
            if ( typeof fx !== "undefined" && fx.rates ) {
                fx.rates = data.rates;
                fx.base = data.base;
            } else {
                // If not, apply to fxSetup global:
                var fxSetup = {
                    rates : data.rates,
                    base : data.base
                }
            }
        //get the price of the product as a string
        var stringToConvert = document.getElementById('ProductPrice').innerHTML;
            
        //find all characters except £
        var numb = stringToConvert.match(/[^£]/g);
            alert(numb);
        //join the numbers together
        numb = numb.join("");
                    
        //convert the string numbers into actual data type numbers
        var numb = Number(numb);
        
        //do the conversions
        var conversionUS = fx.convert(numb, {from: 'GBP', to: 'USD'});
        var conversionEU = fx.convert(numb, {from: 'GBP', to: 'EUR'});
        //round them to two decimal places
        var roundedConversionUS = parseFloat(Math.round(conversionUS * 100) / 100).toFixed(2);
        var roundedConversionEU = parseFloat(Math.round(conversionEU * 100) / 100).toFixed(2);
                    
        //print the conversion onto the page
        document.getElementById('USFX').innerHTML = '$' + roundedConversionUS;
        document.getElementById('EUFX').innerHTML = '&euro;' + roundedConversionEU;
        }
    );
</script>
</body>
</html>